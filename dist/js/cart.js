"use strict";var goods=$.cookie("cart");goods=void 0===goods?[]:JSON.parse(goods);var newLi=null;goods.forEach(function(t){newLi=document.createElement("li");var i=t.price*t.num;i=i.toFixed(2),console.log(i),newLi.innerHTML='\n\t\t<ul class="new'+t.id+'">\n\t\t\t<li style="width:51px;"><input checked class="check-li" type="checkbox"></li>\n\t\t\t<li style="width:102px;"><a href="javascript:;"><img src='+t.src+' width="82"></a></li>\n\t\t\t<li style="width:269px"><a href="javascript:;">'+t.title+'</a></li>\n\t\t\t<li style="width:215px" class="price'+t.id+'" data-price="'+t.price+'">￥'+t.price+'</li>\n\t\t\t<li class="num-select">\n\t\t\t\t<a href="javascript:;" gId="'+t.id+'" class="minus'+t.id+'">-</a>\n\t\t\t\t<input class="num'+t.id+'" type="text" value="'+t.num+'">\n\t\t\t\t<a href="javascript:;" gId="'+t.id+'" class="add'+t.id+'">+</a></li>\n\t\t\t<li class="total final'+t.id+'" data-total ="'+i+'">￥<span class="total'+t.id+'">'+i+'</span></li>\n\t\t\t<li>8个/1份</li>\n\t\t\t<li>\n\t\t\t\t<a href="javascript:;">移入收藏</a><br>\n\t\t\t\t<a class="delete'+t.id+'" href="javascript:;" gId="'+t.id+'">删除</a>\n\t\t\t</li>\n\t\t</ul>',$(".cart-goods").append(newLi)});for(var _loop=function(i){var c=$(".num"+i).val();$(".minus"+i).click(function(){c<=1&&(c=2),$(".num"+i).val(--c);var t=c*$(".price"+i).attr("data-price");t=t.toFixed(2),$(".final"+i).attr("data-total",t),$(".total"+i).html(t);var a=$(this).attr("gId");goods.forEach(function(t,i){t.id==a&&(t.num--,t.num<=1&&(t.num=1),$.cookie("cart",JSON.stringify(goods),{expires:7}))}),sum()}),$(".add"+i).click(function(){$(".num"+i).val(++c);var t=c*$(".price"+i).attr("data-price");t=t.toFixed(2),$(".final"+i).attr("data-total",t),$(".total"+i).html(t);var a=$(this).attr("gId");goods.forEach(function(t,i){t.id==a&&(t.num++,$.cookie("cart",JSON.stringify(goods),{expires:7}))}),sum()})},i=1;i<=5;i++)_loop(i);for(var _loop2=function(c){$(".delete"+c).click(function(){var a=$(this).attr("gId");goods.forEach(function(t,i){$(".new"+c).css("display","none"),t.id==a&&(goods.splice(i,1),$.cookie("cart",JSON.stringify(goods),{expires:7}))}),window.location.reload()})},j=1;j<=5;j++)_loop2(j);function sum(){var t=$(".total").map(function(t,i){return parseInt($(i).attr("data-total"))}).get().reduce(function(t,i){return t+i});t=t.toFixed(2),$(".cart-foot-right p span").html("￥"+t)}sum(),$(".all-checked").click(function(){$(".check-li").attr("checked")||(console.log(23),$(".check-li").attr("checked",!0)),$(".check-li").removeAttr("checked")});